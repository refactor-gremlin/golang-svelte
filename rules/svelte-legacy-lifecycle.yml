id: svelte-legacy-lifecycle
message: "Legacy lifecycle functions (beforeUpdate/afterUpdate) deprecated in Svelte 5; use $effect.pre and $effect instead."
severity: warning
language: svelte
rule:
  kind: svelte_raw_text
  any:
    - regex: 'import\s*\{\s*[^}]*beforeUpdate[^}]*\}'
    - regex: 'import\s*\{\s*[^}]*afterUpdate[^}]*\}'
    - regex: 'beforeUpdate\s*\('
    - regex: 'afterUpdate\s*\('
