# MySvelteApp.Server/Dockerfile.dev

FROM mcr.microsoft.com/dotnet/sdk:9.0-alpine
WORKDIR /src

# Install Node.js and npm for SPA proxy
RUN apk add --no-cache nodejs npm

# Copy project files
COPY MySvelteApp.Server/*.csproj .
RUN dotnet restore

# Copy everything else
COPY MySvelteApp.Server/. .

# Expose the development server port
EXPOSE 7216

# Run the development server
CMD ["dotnet", "run", "--urls", "http://+:7216"]